<svg viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font: bold 20px 'Inter', sans-serif; fill: #e0e0e0; }
      .label { font: 600 13px 'Inter', sans-serif; fill: #e0e0e0; }
      .small { font: 11px 'Inter', sans-serif; fill: #b0b0b0; }
      .code { font: 11px 'Consolas', monospace; fill: #00bcd4; }
      .service { fill: #1a3a4a; stroke: #2196f3; stroke-width: 2; }
      .command { fill: #2a4a3a; stroke: #4caf50; stroke-width: 2; }
      .query { fill: #3a3a4a; stroke: #9e9e9e; stroke-width: 2; }
      .dto { fill: #4a3a1a; stroke: #ff9800; stroke-width: 2; }
      .arrow { fill: none; stroke: #888; stroke-width: 2; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#888"/>
    </marker>
  </defs>
  
  <rect width="800" height="400" fill="#1e1e1e"/>
  
  <text x="400" y="30" class="title" text-anchor="middle">Application Layer - Casos de Uso</text>
  
  <!-- Commands -->
  <rect x="50" y="60" width="170" height="150" rx="8" class="command"/>
  <text x="135" y="85" class="label" text-anchor="middle">COMMANDS</text>
  <text x="65" y="108" class="small">(Write operations)</text>
  <text x="65" y="135" class="code">CreateTaskCommand</text>
  <text x="65" y="155" class="code">StartTaskCommand</text>
  <text x="65" y="175" class="code">CompleteTaskCommand</text>
  <text x="65" y="195" class="code">AssignTaskCommand</text>
  
  <!-- Queries -->
  <rect x="50" y="230" width="170" height="120" rx="8" class="query"/>
  <text x="135" y="255" class="label" text-anchor="middle">QUERIES</text>
  <text x="65" y="278" class="small">(Read operations)</text>
  <text x="65" y="305" class="code">GetTaskQuery</text>
  <text x="65" y="325" class="code">ListTasksQuery</text>
  
  <!-- Application Service -->
  <rect x="280" y="100" width="240" height="200" rx="8" class="service"/>
  <text x="400" y="130" class="label" text-anchor="middle">APPLICATION SERVICE</text>
  <text x="300" y="160" class="code">class TaskService:</text>
  <text x="310" y="185" class="small">def create_task(cmd) â†’ DTO</text>
  <text x="310" y="205" class="small">def start_task(cmd) â†’ DTO</text>
  <text x="310" y="225" class="small">def complete_task(cmd) â†’ DTO</text>
  <text x="310" y="245" class="small">def get_task(query) â†’ DTO</text>
  <text x="310" y="265" class="small">def list_tasks(query) â†’ DTO</text>
  <text x="300" y="290" class="code">Orchestrates domain logic</text>
  
  <!-- DTOs -->
  <rect x="580" y="100" width="170" height="200" rx="8" class="dto"/>
  <text x="665" y="130" class="label" text-anchor="middle">DTOs</text>
  <text x="595" y="155" class="small">(Data Transfer Objects)</text>
  <text x="595" y="185" class="code">@dataclass(frozen)</text>
  <text x="595" y="205" class="code">class TaskDTO:</text>
  <text x="605" y="225" class="small">id: UUID</text>
  <text x="605" y="245" class="small">title: str</text>
  <text x="605" y="265" class="small">status: str</text>
  <text x="605" y="285" class="small">created_at: datetime</text>
  
  <!-- Arrows -->
  <path d="M 220 135 L 280 180" class="arrow"/>
  <path d="M 220 280 L 280 230" class="arrow"/>
  <path d="M 520 200 L 580 200" class="arrow"/>
  
  <!-- Labels on arrows -->
  <text x="250" y="145" class="small">input</text>
  <text x="250" y="265" class="small">input</text>
  <text x="545" y="190" class="small">output</text>
  
  <!-- Legend -->
  <text x="100" y="380" class="small">ðŸŸ¢ Commands: Intenciones de cambio</text>
  <text x="350" y="380" class="small">â¬œ Queries: Peticiones de datos</text>
  <text x="580" y="380" class="small">ðŸŸ  DTOs: Datos de respuesta</text>
</svg>
